<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Publishing plumbertableau Extensions to RStudio Connect • plumbertableau</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Publishing plumbertableau Extensions to RStudio Connect">
<meta property="og:description" content="plumbertableau">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plumbertableau</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/publishing-extensions.html">Publishing plumbertableau Extensions to RStudio Connect</a>
    </li>
    <li>
      <a href="../articles/r-developer-guide.html">Writing plumbertableau Extensions in R</a>
    </li>
    <li>
      <a href="../articles/tableau-developer-guide.html">Using plumbertableau Extensions in Tableau</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/plumbertableau/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="publishing-extensions_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Publishing plumbertableau Extensions to RStudio Connect</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/plumbertableau/blob/master/vignettes/publishing-extensions.Rmd"><code>vignettes/publishing-extensions.Rmd</code></a></small>
      <div class="hidden name"><code>publishing-extensions.Rmd</code></div>

    </div>

    
    
<p><a href="https://www.rstudio.com/products/connect/">RStudio Connect</a> is a publishing platform for sharing the work produced by data science teams. It supports content in both R and Python, including Shiny apps and Plumber APIs. You can publish content to RStudio Connect <a href="https://docs.rstudio.com/connect/user/publishing/">in a number of ways</a>, including 1-click publishing from the RStudio IDE.</p>
<p>plumbertableau integrates seamlessly with RStudio Connect. You can host any number of plumbertableau extensions on RStudio Connect, and Connect will ensure that requests from Tableau are passed to the correct extension.</p>
<div id="connect" class="section level2">
<h2 class="hasAnchor">
<a href="#connect" class="anchor"></a>Setting up RStudio Connect</h2>
<div id="requirements" class="section level3">
<h3 class="hasAnchor">
<a href="#requirements" class="anchor"></a>Requirements</h3>
<ul>
<li>Tableau extensions are only supported in RStudio Connect [VERSION NUMBER] and above.</li>
<li>RStudio Connect must be configured with the following settings:
<ul>
<li>
<a href="https://docs.rstudio.com/connect/admin/appendix/configuration/#TableauExtension"><code>TableauExtension.Enabled</code></a> must not be set to <code>False</code>.</li>
<li>
<a href="https://docs.rstudio.com/connect/admin/appendix/configuration/#Server.Address"><code>Server.Address</code></a> must be configured.</li>
</ul>
</li>
</ul>
<p>See the <a href="https://docs.rstudio.com/connect/admin/appendix/configuration/">RStudio Connect Admin Guide</a> for more information about configuring Connect.</p>
<p>Extensions published to an incompatible RStudio Connect server will provide a warning message that detects which of the above criteria are not met.</p>
<p><img src="files/warnings.png" style="width:75.0%"></p>
</div>
<div id="access" class="section level3">
<h3 class="hasAnchor">
<a href="#access" class="anchor"></a>Access, Permissions, and Security</h3>
<p>Your RStudio Connect server must be <a href="#tableau">configured as an Analytics Extension in Tableau</a>. Tableau requires an <a href="https://docs.rstudio.com/connect/user/api-keys/">API key</a> to authenticate with RStudio Connect. This API key will be used for all requests from Tableau to RStudio Connect, and the Tableau instance will have access to any content on Connect that the API key’s owner can access.</p>
<p>We recommend creating a “service account” (an account used only by Tableau, not by any individual) on RStudio Connect, and configuring Tableau with an API key for this account. If you name the service account “Tableau”, simply add the “Tableau” to the <a href="https://docs.rstudio.com/connect/user/content-settings/#content-access">Access List</a> for any content it should be able to access. This way, you can more finely control what content Tableau can access without affecting any users.</p>
</div>
</div>
<div id="configuring-rstudio-connect-as-an-analytics-extension-in-tableau-tableau" class="section level2">
<h2 class="hasAnchor">
<a href="#configuring-rstudio-connect-as-an-analytics-extension-in-tableau-tableau" class="anchor"></a>Configuring RStudio Connect as an Analytics Extension in Tableau #{tableau}</h2>
<p>Before you can use extensions hosted on an RStudio Connect server from Tableau, you’ll need to register that server in Tableau’s Extensions settings. The steps to configure analytics extensions in Tableau differ slightly depending on whether you’re using Tableau Desktop or Tableau Server/Online.</p>
<div id="tableau-server-tableau-online" class="section level3">
<h3 class="hasAnchor">
<a href="#tableau-server-tableau-online" class="anchor"></a>Tableau Server / Tableau Online</h3>
<ol style="list-style-type: decimal">
<li>Using an administrative account, login to Tableau Server/Online</li>
<li>Navigate to Settings, then Extensions</li>
<li>Under the heading ‘Analytics Extensions’, select ‘Enable analytics extension for site’</li>
<li>Create a new connection and select the connection type of ‘Analytics Extensions API’</li>
<li>Select whether you want to use SSL and enter the server Host and Port for your RStudio Connect server. <strong>Please note that due to the way Tableau handles Host and Port, your RStudio Connect server must be listening on the root path of the provided Host value. You cannot use a reverse proxy with RStudio Connect and Tableau.</strong>
</li>
<li>Select ‘Sign in with a username and password’. The username is ‘rstudio-connect’ and the password is any valid API key from RStudio Connect</li>
<li>Create / Save changes</li>
</ol>
</div>
<div id="tableau-desktop" class="section level3">
<h3 class="hasAnchor">
<a href="#tableau-desktop" class="anchor"></a>Tableau Desktop</h3>
<ol style="list-style-type: decimal">
<li>Navigate to Help, Settings and Performance, Manage Analytics Extension Connection…</li>
<li>Select ‘TabPy/External API’</li>
<li>Set Server and Port to the address and port of the server running the API</li>
<li>If desired, select ‘Sign in with a username and password’. The username is ‘rstudio-connect’ and the password is any valid API key from RStudio Connect</li>
<li>Select whether to Require SSL</li>
<li>Save changes</li>
</ol>
<p>If you’re using Tableau Desktop, you don’t need to use authentication if you’re using an extension running locally in R.</p>
</div>
</div>
<div id="deploying" class="section level2">
<h2 class="hasAnchor">
<a href="#deploying" class="anchor"></a>Using Custom URLs for plumbertableau Extensions on RStudio Connect</h2>
<p>All content hosted on RStudio Connect receives a random identifier, which is used as part of its default URL. You can optionally <a href="https://docs.rstudio.com/connect/user/content-settings/#custom-url">set a custom URL</a> (called a vanity URL) for any piece of content on RStudio Connect in its control panel. By default, only administrators can assign vanity paths, but RStudio Connect <a href="https://docs.rstudio.com/connect/admin/content-management/#vanity-paths">can be configured</a> to allow all publishers to assign them.</p>
<p>We recommend using vanity paths for plumbertableau extensions. You must use a content identifier in calls to Tableau extensions, and a vanity URL makes the difference between <code>SCRIPT_REAL("/content/c8b1e158-4fab-4d09-9791-8674afba86eb/predict", ...)</code> and <code>SCRIPT_REAL("/loess/predict", ...)</code>.</p>
<p>This isn’t required. You can access extensions published to RStudio Connect by their content identifier or vanity URL. If an extension has a vanity URL, RStudio Connect will prefer that in all of the documentation it generates.</p>
</div>
<div id="debugging" class="section level2">
<h2 class="hasAnchor">
<a href="#debugging" class="anchor"></a>Debugging plumbertableau Extensions on RStudio Connect</h2>
<p>plumbertableau supports debug logging via the <a href="https://github.com/r-lib/debugme"><code>debugme</code></a> R package.</p>
<p>To enable debug logging on a deployed extension, <a href="https://docs.rstudio.com/connect/user/content-settings/#content-vars">open the “Vars” section of the content control panel</a> in RStudio Connect. Ensure that an environment variable called <code>DEBUGME</code> exists and that it contains the text <code>plumbertableau</code>.</p>
<p>Additional messages will appear in the “Logs” tab of the control panel, with information about the contents and processing of each request the extension receives.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by James Blair, Joe Cheng, Toph Allen, Bill Sager, <a href="https://www.rstudio.com"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
