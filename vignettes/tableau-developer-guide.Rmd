---
title: "Using plumbertableau Extensions in Tableau"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Tableau Developer Guide}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

plumbertableau extensions are used within calculated fields in Tableau, using calls to Tableau's `SCRIPT_*` functions. 

plumbertableau automatically generates a documentation page for the extension, designed as a reference for Tableau users. These are displayed when viewing the extension on RStudio Connect.

![](files/tableau-usage-guide.png){width=75%}

This page includes the following information about the extension:

- The API's name and description;
- Links to other important pieces of documentation, including instructions for configuring Tableau, and the OpenAPI (Swagger) documentation for the extension.

For each endpoint, it includes:
- An example of how to call the  `SCRIPT_*` command in a Tableau calculated field;
- Names, types, and descriptions for Tableau arguments, URL parameters, and return data returned.

You can copy and paste the usage example (the `SCRIPT_*`) command into a calculated field in Tableau, and replace the argument placeholders with actual values from the Tableau workbook.

![Using a plumbertableau extension in a calculated field](files/calculated-field.png){width=75%}

Note: You *must* turn off "Aggregate Measures", under the "Analysis" menu, for Tableau to correctly pass values to the extension.

![Tableau aggregation](files/aggregate.png){width=75%}

Calculated fields don't allow you to pass values directly from Tableau to an extension. Instead, those values must be aggregated using a function in Tableau. Since we've turned off "Aggregate Measures", any function should do. We've found success using `ATTR([VALUE_NAME])`.
